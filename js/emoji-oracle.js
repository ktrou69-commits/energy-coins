// Emoji Oracle - Daily Mood & Productivity Predictor
class EmojiOracle {
    constructor() {
        this.currentEmoji = null;
        this.storageKey = 'dailyEmojiOracle';
        
        // –≠–º–æ–¥–∑–∏ —Å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏
        this.emojiPredictions = {
            'üöÄ': {
                name: '–†–∞–∫–µ—Ç–∞',
                mood: '–ê–º–±–∏—Ü–∏–æ–∑–Ω—ã–π',
                energy: '–í—ã—Å–æ–∫–∞—è',
                focus: '–ë–æ–ª—å—à–∏–µ —Ü–µ–ª–∏',
                color: '#3b82f6',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç–≤–æ–π –¥–µ–Ω—å –¥–ª—è –ø–æ–∫–æ—Ä–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –≤—ã—Å–æ—Ç!',
                    '–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞—Ç—å –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã!',
                    '–≠–Ω–µ—Ä–≥–∏—è –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞ - –∏—Å–ø–æ–ª—å–∑—É–π –µ–µ!',
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã –º–æ–∂–µ—à—å –¥–æ—Å—Ç–∏—á—å –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–≥–æ!'
                ],
                activities: [
                    '–ù–∞—á–Ω–∏ –Ω–æ–≤—ã–π –±–æ–ª—å—à–æ–π –ø—Ä–æ–µ–∫—Ç',
                    '–ü–æ—Å—Ç–∞–≤—å –∞–º–±–∏—Ü–∏–æ–∑–Ω—É—é —Ü–µ–ª—å –Ω–∞ –º–µ—Å—è—Ü',
                    '–°–¥–µ–ª–∞–π —Ç–æ, —á—Ç–æ –¥–∞–≤–Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–ª',
                    '–í—ã–π–¥–∏ –∏–∑ –∑–æ–Ω—ã –∫–æ–º—Ñ–æ—Ä—Ç–∞'
                ],
                workStyle: '–ë—ã—Å—Ç—Ä–æ –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ - –∫–∞–∫ —Ä–∞–∫–µ—Ç–∞ –∫ –∑–≤–µ–∑–¥–∞–º!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω–∏–π –∑–∞–ø—É—Å–∫ - –≤—Ä–µ–º—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø–ª–∞–Ω–æ–≤!',
                    afternoon: '–ü–æ–ª–µ—Ç –Ω–∞ –ø–æ–ª–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏!',
                    evening: '–ü–æ–¥–≤–µ–¥–∏ –∏—Ç–æ–≥–∏ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π!',
                    night: '–û—Ç–¥—ã—Ö –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º!'
                }
            },
            'üå±': {
                name: '–†–æ—Å—Ç–æ–∫',
                mood: '–†–∞–∑–≤–∏–≤–∞—é—â–∏–π—Å—è',
                energy: '–°—Ç–∞–±–∏–ª—å–Ω–∞—è',
                focus: '–†–æ—Å—Ç –∏ –æ–±—É—á–µ–Ω–∏–µ',
                color: '#10b981',
                predictions: [
                    '–î–µ–Ω—å –¥–ª—è –ø–æ—Å–µ–≤–∞ —Å–µ–º—è–Ω –±—É–¥—É—â–∏—Ö —É—Å–ø–µ—Ö–æ–≤!',
                    '–ö–∞–∂–¥—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ –≤–µ–¥–µ—Ç –∫ –±–æ–ª—å—à–æ–º—É —Ä–æ—Å—Ç—É!',
                    '–í—Ä–µ–º—è –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ!',
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã —Ä–∞—Å—Ç–µ—à—å –∫–∞–∫ –ª–∏—á–Ω–æ—Å—Ç—å!'
                ],
                activities: [
                    '–ò–∑—É—á–∏ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ',
                    '–ü—Ä–æ—á–∏—Ç–∞–π —Ä–∞–∑–≤–∏–≤–∞—é—â—É—é —Å—Ç–∞—Ç—å—é',
                    '–ù–∞—á–Ω–∏ –Ω–æ–≤—ã–π –∫—É—Ä—Å –∏–ª–∏ —Ö–æ–±–±–∏',
                    '–ü–æ—Ä–∞–±–æ—Ç–∞–π –Ω–∞–¥ –Ω–∞–≤—ã–∫–∞–º–∏'
                ],
                workStyle: '–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ - –∫–∞–∫ —Ä–∞—Å—Ç–µ–Ω–∏–µ –∫ —Å–æ–ª–Ω—Ü—É!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ–ª–∏–≤ –∑–Ω–∞–Ω–∏–π!',
                    afternoon: '–í—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞!',
                    evening: '–†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–≤–∏—Ç–∏—è!',
                    night: '–û—Ç–¥—ã—Ö –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏–ª!'
                }
            },
            '‚ö°': {
                name: '–ú–æ–ª–Ω–∏—è',
                mood: '–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π',
                energy: '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è',
                focus: '–°–∫–æ—Ä–æ—Å—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                color: '#f59e0b',
                predictions: [
                    '–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è –±—å–µ—Ç —á–µ—Ä–µ–∑ –∫—Ä–∞–π!',
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã - –∂–∏–≤–∞—è –º–æ–ª–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!',
                    '–í—Ä–µ–º—è –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π!',
                    '–¢–≤–æ—è —Å–∫–æ—Ä–æ—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è –ø–æ—Ä–∞–∂–∞–µ—Ç –≤—Å–µ—Ö!'
                ],
                activities: [
                    '–ó–∞–∫—Ä–æ–π –≤—Å–µ –º–µ–ª–∫–∏–µ –∑–∞–¥–∞—á–∏',
                    '–°–¥–µ–ª–∞–π –±—ã—Å—Ç—Ä—É—é —É–±–æ—Ä–∫—É',
                    '–û—Ç–≤–µ—Ç—å –Ω–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è',
                    '–ü—Ä–æ–≤–µ–¥–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω—É—é —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É'
                ],
                workStyle: '–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - –∫–∞–∫ —Ä–∞–∑—Ä—è–¥ —ç–Ω–µ—Ä–≥–∏–∏!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞–∑—Ä—è–¥ —ç–Ω–µ—Ä–≥–∏–∏!',
                    afternoon: '–ü–∏–∫–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å!',
                    evening: '–§–∏–Ω–∞–ª—å–Ω—ã–π —Ä—ã–≤–æ–∫!',
                    night: '–†–∞–∑—Ä—è–¥–∫–∞ –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –¥–Ω—è!'
                }
            },
            'üéØ': {
                name: '–ú–∏—à–µ–Ω—å',
                mood: '–°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π',
                energy: '–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è',
                focus: '–¢–æ—á–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è',
                color: '#ef4444',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã –ø–æ–ø–∞–¥–∞–µ—à—å —Ç–æ—á–Ω–æ –≤ —Ü–µ–ª—å!',
                    '–õ–∞–∑–µ—Ä–Ω–∞—è —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º!',
                    '–í—Ä–µ–º—è –¥–ª—è —Ç–æ—á–Ω—ã—Ö –∏ –≤—ã–≤–µ—Ä–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π!',
                    '–¢–≤–æ—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Å–µ–≥–æ–¥–Ω—è –Ω–µ–ø—Ä–æ–±–∏–≤–∞–µ–º–∞!'
                ],
                activities: [
                    '–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –Ω–∞ –æ–¥–Ω–æ–π –≤–∞–∂–Ω–æ–π –∑–∞–¥–∞—á–µ',
                    '–°–æ—Å—Ç–∞–≤—å —á–µ—Ç–∫–∏–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π',
                    '–£—Å—Ç—Ä–∞–Ω–∏ –≤—Å–µ –æ—Ç–≤–ª–µ–∫–∞—é—â–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã',
                    '–î–æ–≤–µ–¥–∏ –Ω–∞—á–∞—Ç–æ–µ –¥–æ –∫–æ–Ω—Ü–∞'
                ],
                workStyle: '–¢–æ—á–Ω–æ –∏ –º–µ—Ç–æ–¥–∏—á–Ω–æ - –∫–∞–∫ —Å–Ω–∞–π–ø–µ—Ä –ø–æ —Ü–µ–ª—è–º!',
                timeAdvice: {
                    morning: '–ü—Ä–∏—Ü–µ–ª–∏–≤–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å!',
                    afternoon: '–¢–æ—á–Ω–æ–µ –ø–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —Ü–µ–ª–∏!',
                    evening: '–ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å—Ç—Ä–µ–ª—å–±—ã!',
                    night: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –Ω–æ–≤—ã–º —Ü–µ–ª—è–º!'
                }
            },
            'üåü': {
                name: '–ó–≤–µ–∑–¥–∞',
                mood: '–í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π',
                energy: '–°–∏—è—é—â–∞—è',
                focus: '–¢–≤–æ—Ä—á–µ—Å—Ç–≤–æ –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ',
                color: '#8b5cf6',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã —Å–∏—è–µ—à—å –∫–∞–∫ –∑–≤–µ–∑–¥–∞!',
                    '–¢–≤–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –æ—Å–≤–µ—â–∞–µ—Ç –ø—É—Ç—å –¥—Ä—É–≥–∏–º!',
                    '–î–µ–Ω—å –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ä—ã–≤–æ–≤!',
                    '–ó–≤–µ–∑–¥–Ω—ã–π —á–∞—Å —Ç–≤–æ–∏—Ö —Ç–∞–ª–∞–Ω—Ç–æ–≤!'
                ],
                activities: [
                    '–ó–∞–π–º–∏—Å—å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º',
                    '–ü–æ–¥–µ–ª–∏—Å—å –∏–¥–µ—è–º–∏ —Å –¥—Ä—É–≥–∏–º–∏',
                    '–°–æ–∑–¥–∞–π —á—Ç–æ-—Ç–æ –∫—Ä–∞—Å–∏–≤–æ–µ',
                    '–í–¥–æ—Ö–Ω–æ–≤–∏ –∫–æ–≥–æ-—Ç–æ —Å–≤–æ–∏–º –ø—Ä–∏–º–µ—Ä–æ–º'
                ],
                workStyle: '–Ø—Ä–∫–æ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ - –∫–∞–∫ –∑–≤–µ–∑–¥–∞ –Ω–∞ –Ω–µ–±–µ!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω–µ–µ —Å–∏—è–Ω–∏–µ –∏–¥–µ–π!',
                    afternoon: '–ü–∏–∫ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ —Å–≤–µ—Ç–∞!',
                    evening: '–ó–≤–µ–∑–¥–Ω–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ!',
                    night: '–°–Ω—ã –ø–æ–ª–Ω—ã–µ –∑–≤–µ–∑–¥–Ω–æ–π –ø—ã–ª–∏!'
                }
            },
            'üî•': {
                name: '–û–≥–æ–Ω—å',
                mood: '–°—Ç—Ä–∞—Å—Ç–Ω—ã–π',
                energy: '–ü—ã–ª–∞—é—â–∞—è',
                focus: '–°—Ç—Ä–∞—Å—Ç—å –∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å',
                color: '#dc2626',
                predictions: [
                    '–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–≥–æ–Ω—å –≥–æ—Ä–∏—Ç —è—Ä—á–µ —Å–æ–ª–Ω—Ü–∞!',
                    '–°—Ç—Ä–∞—Å—Ç—å –∫ –¥–µ–ª—É –∑–∞–∂–∏–≥–∞–µ—Ç –≤—Å–µ –≤–æ–∫—Ä—É–≥!',
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã - –ø–ª–∞–º—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!',
                    '–¢–≤–æ–π —ç–Ω—Ç—É–∑–∏–∞–∑–º –∑–∞—Ä–∞–∑–∏—Ç–µ–ª–µ–Ω!'
                ],
                activities: [
                    '–ó–∞–π–º–∏—Å—å —Ç–µ–º, —á—Ç–æ –ª—é–±–∏—à—å',
                    '–ü–æ–¥–µ–ª–∏—Å—å —ç–Ω—Ç—É–∑–∏–∞–∑–º–æ–º —Å –∫–æ–º–∞–Ω–¥–æ–π',
                    '–†–∞–±–æ—Ç–∞–π –Ω–∞–¥ —Å—Ç—Ä–∞—Å—Ç–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º',
                    '–ó–∞–∂–≥–∏ –æ–≥–æ–Ω—å –≤ –¥—Ä—É–≥–∏—Ö'
                ],
                workStyle: '–ì–æ—Ä—è—á–æ –∏ —Å—Ç—Ä–∞—Å—Ç–Ω–æ - –∫–∞–∫ –ø–ª–∞–º—è –∫–æ—Å—Ç—Ä–∞!',
                timeAdvice: {
                    morning: '–†–∞–∑–∂–∏–≥–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ–≥–Ω—è!',
                    afternoon: '–ü–ª–∞–º—è –Ω–∞ –ø–∏–∫–µ!',
                    evening: '–¢–µ–ø–ª–æ–µ —Å–∏—è–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤!',
                    night: '–¢–ª–µ—é—â–∏–µ —É–≥–ª–∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è!'
                }
            },
            'üåä': {
                name: '–í–æ–ª–Ω–∞',
                mood: '–ü–ª–∞–≤–Ω—ã–π',
                energy: '–¢–µ–∫—É—á–∞—è',
                focus: '–ì–∏–±–∫–æ—Å—Ç—å –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è',
                color: '#0ea5e9',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã —Ç–µ—á–µ—à—å –∫–∞–∫ –º—É–¥—Ä–∞—è —Ä–µ–∫–∞!',
                    '–ì–∏–±–∫–æ—Å—Ç—å - —Ç–≤–æ—è —Å—É–ø–µ—Ä—Å–∏–ª–∞ –¥–Ω—è!',
                    '–í—Ä–µ–º—è –ø–ª—ã—Ç—å –ø–æ —Ç–µ—á–µ–Ω–∏—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π!',
                    '–¢–≤–æ—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ—Ä–∞–∂–∞–µ—Ç!'
                ],
                activities: [
                    '–ë—É–¥—å –≥–∏–±–∫–∏–º –≤ –ø–ª–∞–Ω–∞—Ö',
                    '–ê–¥–∞–ø—Ç–∏—Ä—É–π—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º',
                    '–ù–∞–π–¥–∏ –±–∞–ª–∞–Ω—Å –≤ —Ö–∞–æ—Å–µ',
                    '–ü–æ–º–æ–≥–∏ –¥—Ä—É–≥–∏–º –Ω–∞–π—Ç–∏ –ø—É—Ç—å'
                ],
                workStyle: '–ü–ª–∞–≤–Ω–æ –∏ –≥–∏–±–∫–æ - –∫–∞–∫ –≤–æ–ª–Ω–∞ –æ–∫–µ–∞–Ω–∞!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω–∏–π –ø—Ä–∏–ª–∏–≤ —ç–Ω–µ—Ä–≥–∏–∏!',
                    afternoon: '–ü–ª–∞–≤–Ω–æ–µ —Ç–µ—á–µ–Ω–∏–µ –¥–µ–ª!',
                    evening: '–°–ø–æ–∫–æ–π–Ω–∞—è –≥–ª–∞–¥—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤!',
                    night: '–£–±–∞—é–∫–∏–≤–∞—é—â–∏–π —à—É–º –≤–æ–ª–Ω!'
                }
            },
            'üèîÔ∏è': {
                name: '–ì–æ—Ä–∞',
                mood: '–°—Ç–æ–π–∫–∏–π',
                energy: '–ù–µ–ø–æ–∫–æ–ª–µ–±–∏–º–∞—è',
                focus: '–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å',
                color: '#6b7280',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã –Ω–µ–ø–æ–∫–æ–ª–µ–±–∏–º –∫–∞–∫ –≥–æ—Ä–∞!',
                    '–¢–≤–æ—è —Å—Ç–æ–π–∫–æ—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –¥—Ä—É–≥–∏—Ö!',
                    '–î–µ–Ω—å –¥–ª—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –¥–µ–ª!',
                    '–¢–≤–æ—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å - –æ–ø–æ—Ä–∞ –¥–ª—è –≤—Å–µ—Ö!'
                ],
                activities: [
                    '–†–∞–±–æ—Ç–∞–π –Ω–∞–¥ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏',
                    '–£–∫—Ä–µ–ø–∏ –æ—Å–Ω–æ–≤—ã —Å–≤–æ–∏—Ö –¥–µ–ª',
                    '–ë—É–¥—å –æ–ø–æ—Ä–æ–π –¥–ª—è –¥—Ä—É–≥–∏—Ö',
                    '–ü–ª–∞–Ω–∏—Ä—É–π –Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É'
                ],
                workStyle: '–£—Å—Ç–æ–π—á–∏–≤–æ –∏ –Ω–∞–¥–µ–∂–Ω–æ - –∫–∞–∫ –≥–æ—Ä–Ω–∞—è –≤–µ—Ä—à–∏–Ω–∞!',
                timeAdvice: {
                    morning: '–í–æ—Å—Ö–æ–¥ –Ω–∞–¥ –≥–æ—Ä–Ω—ã–º–∏ –ø–∏–∫–∞–º–∏!',
                    afternoon: '–°—Ç–æ–π–∫–æ—Å—Ç—å –≥–æ—Ä–Ω–æ–≥–æ —Ö—Ä–µ–±—Ç–∞!',
                    evening: '–ó–∞–∫–∞—Ç –∑–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–º!',
                    night: '–¢–∏—à–∏–Ω–∞ –≥–æ—Ä–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω!'
                }
            },
            'ü¶ã': {
                name: '–ë–∞–±–æ—á–∫–∞',
                mood: '–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π—Å—è',
                energy: '–õ–µ–≥–∫–∞—è',
                focus: '–ò–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∫—Ä–∞—Å–æ—Ç–∞',
                color: '#ec4899',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –∫—Ä–∞—Å–∏–≤—É—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é!',
                    '–õ–µ–≥–∫–æ—Å—Ç—å –∏ –≥—Ä–∞—Ü–∏—è –≤ –∫–∞–∂–¥–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏!',
                    '–í—Ä–µ–º—è –¥–ª—è –∫—Ä–∞—Å–∏–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π!',
                    '–¢–≤–æ—è —ç–≤–æ–ª—é—Ü–∏—è –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç!'
                ],
                activities: [
                    '–í–Ω–µ—Å–∏ –∫—Ä–∞—Å–æ—Ç—É –≤ —Å–≤–æ—é –∂–∏–∑–Ω—å',
                    '–ò–∑–º–µ–Ω–∏ —á—Ç–æ-—Ç–æ –∫ –ª—É—á—à–µ–º—É',
                    '–ë—É–¥—å –ª–µ–≥–∫–∏–º –∏ –≥—Ä–∞—Ü–∏–æ–∑–Ω—ã–º',
                    '–ü–æ–º–æ–≥–∏ –∫–æ–º—É-—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è'
                ],
                workStyle: '–õ–µ–≥–∫–æ –∏ –∏–∑—è—â–Ω–æ - –∫–∞–∫ —Ç–∞–Ω–µ—Ü –±–∞–±–æ—á–∫–∏!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏–µ!',
                    afternoon: '–ü–æ–ª–µ—Ç –Ω–∞ –∫—Ä—ã–ª—å—è—Ö –ø–µ—Ä–µ–º–µ–Ω!',
                    evening: '–ö—Ä–∞—Å–æ—Ç–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏!',
                    night: '–°–Ω—ã –æ –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö!'
                }
            },
            'üåà': {
                name: '–†–∞–¥—É–≥–∞',
                mood: '–†–∞–¥–æ—Å—Ç–Ω—ã–π',
                energy: '–ú–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–∞—è',
                focus: '–†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∏ –ø–æ–∑–∏—Ç–∏–≤',
                color: '#a855f7',
                predictions: [
                    '–°–µ–≥–æ–¥–Ω—è —Ç–≤–æ—è –∂–∏–∑–Ω—å –∏–≥—Ä–∞–µ—Ç –≤—Å–µ–º–∏ —Ü–≤–µ—Ç–∞–º–∏!',
                    '–†–∞–¥–æ—Å—Ç—å –∏ –ø–æ–∑–∏—Ç–∏–≤ –æ—Å–≤–µ—â–∞—é—Ç –ø—É—Ç—å!',
                    '–î–µ–Ω—å –ø–æ–ª–æ–Ω —è—Ä–∫–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π!',
                    '–¢–≤–æ–π –æ–ø—Ç–∏–º–∏–∑–º –∑–∞—Ä–∞–∑–∏—Ç–µ–ª–µ–Ω!'
                ],
                activities: [
                    '–ó–∞–π–º–∏—Å—å —Ä–∞–∑–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –¥–µ–ª–∞–º–∏',
                    '–ü–æ–¥–∞—Ä–∏ —Ä–∞–¥–æ—Å—Ç—å –æ–∫—Ä—É–∂–∞—é—â–∏–º',
                    '–ù–∞–π–¥–∏ –∫—Ä–∞—Å–æ—Ç—É –≤ –æ–±—ã—á–Ω–æ–º',
                    '–ü—Ä–∞–∑–¥–Ω—É–π –º–∞–ª–µ–Ω—å–∫–∏–µ –ø–æ–±–µ–¥—ã'
                ],
                workStyle: '–Ø—Ä–∫–æ –∏ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–æ - –∫–∞–∫ —Ü–≤–µ—Ç–∞ —Ä–∞–¥—É–≥–∏!',
                timeAdvice: {
                    morning: '–£—Ç—Ä–µ–Ω–Ω—è—è —Ä–∞–¥—É–≥–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π!',
                    afternoon: '–ü–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏!',
                    evening: '–†–∞–¥—É–∂–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–Ω—è!',
                    night: '–°–Ω—ã –≤ —è—Ä–∫–∏—Ö –∫—Ä–∞—Å–∫–∞—Ö!'
                }
            }
        };

        this.init();
    }

    async init() {
        await this.loadDailyEmoji();
        this.render();
        this.startDailyUpdate();
    }

    async loadDailyEmoji() {
        const today = new Date().toDateString();
        const cached = this.getCachedEmoji();

        if (cached && cached.date === today) {
            this.currentEmoji = cached;
            return;
        }

        // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π —ç–º–æ–¥–∑–∏ –¥–ª—è –¥–Ω—è
        const emojiKeys = Object.keys(this.emojiPredictions);
        const randomKey = emojiKeys[Math.floor(Math.random() * emojiKeys.length)];
        
        this.currentEmoji = {
            date: today,
            emoji: randomKey,
            data: this.emojiPredictions[randomKey],
            loadedAt: new Date().toISOString()
        };
        
        this.cacheEmoji(this.currentEmoji);
    }

    getCachedEmoji() {
        try {
            const cached = localStorage.getItem(this.storageKey);
            return cached ? JSON.parse(cached) : null;
        } catch (error) {
            console.error('Error loading cached emoji:', error);
            return null;
        }
    }

    cacheEmoji(emoji) {
        try {
            localStorage.setItem(this.storageKey, JSON.stringify(emoji));
        } catch (error) {
            console.error('Error caching emoji:', error);
        }
    }

    getCurrentTimeAdvice() {
        if (!this.currentEmoji) return '';
        
        const hour = new Date().getHours();
        let timeOfDay;
        
        if (hour >= 5 && hour < 12) timeOfDay = 'morning';
        else if (hour >= 12 && hour < 18) timeOfDay = 'afternoon';
        else if (hour >= 18 && hour < 22) timeOfDay = 'evening';
        else timeOfDay = 'night';
        
        return this.currentEmoji.data.timeAdvice[timeOfDay];
    }

    getRandomPrediction() {
        if (!this.currentEmoji) return '';
        const predictions = this.currentEmoji.data.predictions;
        return predictions[Math.floor(Math.random() * predictions.length)];
    }

    getRandomActivity() {
        if (!this.currentEmoji) return '';
        const activities = this.currentEmoji.data.activities;
        return activities[Math.floor(Math.random() * activities.length)];
    }

    async refreshEmoji() {
        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–π —ç–º–æ–¥–∑–∏
        localStorage.removeItem(this.storageKey);
        await this.loadDailyEmoji();
        this.render();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        if (window.app && window.app.showNotification) {
            window.app.showNotification('–ù–æ–≤–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –æ—Ç –≠–º–æ–¥–∑–∏-–û—Ä–∞–∫—É–ª–∞! üîÆ', 'success');
        }
    }

    render() {
        const oracleCard = document.getElementById('emojiOracleCard');
        if (!oracleCard || !this.currentEmoji) return;

        const timeAdvice = this.getCurrentTimeAdvice();
        const prediction = this.getRandomPrediction();
        const activity = this.getRandomActivity();

        oracleCard.innerHTML = `
            <div class="oracle-header">
                <div class="oracle-emoji-container">
                    <div class="oracle-emoji" style="color: ${this.currentEmoji.data.color}">${this.currentEmoji.emoji}</div>
                    <div class="oracle-pulse"></div>
                </div>
                <div class="oracle-info">
                    <div class="oracle-title">–≠–º–æ–¥–∑–∏-–û—Ä–∞–∫—É–ª</div>
                    <div class="oracle-subtitle">–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–Ω—è</div>
                </div>
                <button class="oracle-refresh" id="refreshOracle" title="–ù–æ–≤–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ">üîÆ</button>
            </div>
            
            <div class="oracle-main">
                <div class="oracle-mood">
                    <div class="mood-label">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–Ω—è:</div>
                    <div class="mood-value" style="color: ${this.currentEmoji.data.color}">
                        ${this.currentEmoji.data.name} - ${this.currentEmoji.data.mood}
                    </div>
                </div>
                
                <div class="oracle-stats">
                    <div class="oracle-stat">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-info">
                            <div class="stat-label">–≠–Ω–µ—Ä–≥–∏—è</div>
                            <div class="stat-value">${this.currentEmoji.data.energy}</div>
                        </div>
                    </div>
                    <div class="oracle-stat">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-info">
                            <div class="stat-label">–§–æ–∫—É—Å</div>
                            <div class="stat-value">${this.currentEmoji.data.focus}</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="oracle-prediction">
                <div class="prediction-icon">üîÆ</div>
                <div class="prediction-text">${prediction}</div>
            </div>
            
            <div class="oracle-advice">
                <div class="advice-time">
                    <div class="advice-icon">‚è∞</div>
                    <div class="advice-text">${timeAdvice}</div>
                </div>
            </div>
            
            <div class="oracle-activity">
                <div class="activity-label">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</div>
                <div class="activity-text">${activity}</div>
            </div>
            
            <div class="oracle-workstyle">
                <div class="workstyle-text">${this.currentEmoji.data.workStyle}</div>
            </div>
        `;

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
        document.getElementById('refreshOracle')?.addEventListener('click', () => {
            this.refreshEmoji();
        });

        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ü–≤–µ—Ç–æ–≤—É—é —Ç–µ–º—É –∫ –∫–∞—Ä—Ç–æ—á–∫–µ
        oracleCard.style.setProperty('--oracle-color', this.currentEmoji.data.color);
    }

    startDailyUpdate() {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π —á–∞—Å, –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª –ª–∏ –Ω–æ–≤—ã–π –¥–µ–Ω—å
        setInterval(() => {
            const today = new Date().toDateString();
            if (!this.currentEmoji || this.currentEmoji.date !== today) {
                this.loadDailyEmoji().then(() => this.render());
            }
        }, 60 * 60 * 1000); // –ö–∞–∂–¥—ã–π —á–∞—Å

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–≤–µ—Ç—ã –∫–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç
        setInterval(() => {
            if (this.currentEmoji) {
                this.render();
            }
        }, 20 * 60 * 1000); // –ö–∞–∂–¥—ã–µ 20 –º–∏–Ω—É—Ç
    }

    // –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–æ–≤–µ—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
    getPersonalizedAdvice(situation = 'general') {
        if (!this.currentEmoji) return '';

        const emoji = this.currentEmoji.emoji;
        const name = this.currentEmoji.data.name;

        const adviceMap = {
            procrastination: {
                'üöÄ': `${name} –≥–æ–≤–æ—Ä–∏—Ç: "–ó–∞–ø—É—Å–∫–∞–π—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å - –ø—Ä–æ–º–µ–¥–ª–µ–Ω–∏–µ –Ω–µ –¥–ª—è —Ä–∞–∫–µ—Ç!"`,
                '‚ö°': `${name} –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç: "–ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ - –ª—É—á—à–µ–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–æ –æ—Ç –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏–∏!"`,
                'üéØ': `${name} —Å–æ–≤–µ—Ç—É–µ—Ç: "–ü—Ä–∏—Ü–µ–ª—å—Å—è –≤ –∑–∞–¥–∞—á—É –∏ –¥–µ–π—Å—Ç–≤—É–π - —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ç–∏–≤ –ª–µ–Ω–∏!"`,
                'üî•': `${name} –∑–∞–∂–∏–≥–∞–µ—Ç: "–ü–ª–∞–º—è –¥–µ–π—Å—Ç–≤–∏—è —Å–∂–∏–≥–∞–µ—Ç –≤—Å–µ –æ—Ç–≥–æ–≤–æ—Ä–∫–∏!"`,
            },
            stress: {
                'üåä': `${name} —É—Å–ø–æ–∫–∞–∏–≤–∞–µ—Ç: "–ü–ª—ã–≤–∏ –ø–æ –≤–æ–ª–Ω–∞–º —Å—Ç—Ä–µ—Å—Å–∞ - –æ–Ω–∏ –ø—Ä–∏–≤–µ–¥—É—Ç –∫ –±–µ—Ä–µ–≥—É!"`,
                'üå±': `${name} –º—É–¥—Ä–æ –≥–æ–≤–æ—Ä–∏—Ç: "–°—Ç—Ä–µ—Å—Å - —ç—Ç–æ —É–¥–æ–±—Ä–µ–Ω–∏–µ –¥–ª—è —Ä–æ—Å—Ç–∞!"`,
                'üèîÔ∏è': `${name} —É–∫—Ä–µ–ø–ª—è–µ—Ç: "–ë—É–¥—å —É—Å—Ç–æ–π—á–∏–≤ –∫–∞–∫ –≥–æ—Ä–∞ - —Å—Ç—Ä–µ—Å—Å –ø—Ä–æ–π–¥–µ—Ç!"`,
                'ü¶ã': `${name} –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç: "–°—Ç—Ä–µ—Å—Å - —ç—Ç–æ –∫–æ–∫–æ–Ω, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã–π–¥–µ—Ç –Ω–æ–≤–∞—è —Ç—ã!"`,
            },
            motivation: {
                'üåü': `${name} —Å–∏—è–µ—Ç: "–¢—ã –∑–≤–µ–∑–¥–∞ - –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞—Ç—å —Å–≤–æ–π —Å–≤–µ—Ç –º–∏—Ä—É!"`,
                'üåà': `${name} —Ä–∞–¥—É–µ—Ç: "–ü–æ—Å–ª–µ –¥–æ–∂–¥—è –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—É–≥–∞ - —Ç–≤–æ–π –¥–µ–Ω—å –Ω–∞—Å—Ç—É–ø–∏–ª!"`,
                'üöÄ': `${name} –º–æ—Ç–∏–≤–∏—Ä—É–µ—Ç: "–ö –∑–≤–µ–∑–¥–∞–º! –¢–≤–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –±–µ–∑–≥—Ä–∞–Ω–∏—á–µ–Ω!"`,
                'üî•': `${name} –∑–∞–∂–∏–≥–∞–µ—Ç: "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–≥–æ–Ω—å –≥–æ—Ä–∏—Ç - –≤—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å!"`,
            }
        };

        const situationAdvice = adviceMap[situation];
        if (situationAdvice && situationAdvice[emoji]) {
            return situationAdvice[emoji];
        }

        return this.getRandomPrediction();
    }

    // –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π —ç–º–æ–¥–∑–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    getCurrentEmoji() {
        return this.currentEmoji;
    }

    // –ü–æ–ª—É—á–∏—Ç—å —Ü–≤–µ—Ç –¥–Ω—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    getDayColor() {
        return this.currentEmoji ? this.currentEmoji.data.color : '#3b82f6';
    }

    // –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ü–≤–µ—Ç –¥–Ω—è –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
    applyDayTheme() {
        if (!this.currentEmoji) return;
        
        const color = this.currentEmoji.data.color;
        document.documentElement.style.setProperty('--accent', color);
        document.documentElement.style.setProperty('--oracle-accent', color);
    }

    destroy() {
        // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
    }
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ DOM
document.addEventListener('DOMContentLoaded', () => {
    // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    const initOracle = () => {
        if (document.getElementById('emojiOracleCard')) {
            window.emojiOracle = new EmojiOracle();
        } else {
            setTimeout(initOracle, 100);
        }
    };
    initOracle();
});
