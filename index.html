<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#0a0e1a">
    <title>24 –≠–Ω–µ—Ä–≥–æ-–ö–æ–∏–Ω–∞</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ö°</text></svg>">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">‚ö° 24 –≠–Ω–µ—Ä–≥–æ-–ö–æ–∏–Ω–∞</h1>
                <div class="header-controls">
                    <div class="date-nav">
                        <button class="btn btn-ghost" id="prevDay">‚Üê</button>
                        <input type="date" id="currentDate" class="date-input">
                        <button class="btn btn-ghost" id="nextDay">‚Üí</button>
                    </div>
                    <button class="btn btn-ghost" id="themeToggle">üåô</button>
                    <button class="btn btn-ghost" id="settingsBtn">‚öôÔ∏è</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main">
        <div class="container">
            <!-- Dashboard -->
            <section class="dashboard">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="coinsLeft">16</div>
                        <div class="stat-label">–û—Å—Ç–∞–ª–æ—Å—å –∫–æ–∏–Ω–æ–≤</div>
                        <div class="stat-sublabel">–∏–∑ 16 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="sleepCountdown">8:30</div>
                        <div class="stat-label">–î–æ —Å–Ω–∞</div>
                        <div class="stat-sublabel">—á–∞—Å–æ–≤:–º–∏–Ω—É—Ç</div>
                    </div>
                    <div class="stat-card energy-card">
                        <div class="energy-bar">
                            <div class="energy-fill" id="energyFill"></div>
                        </div>
                        <div class="stat-label">–≠–Ω–µ—Ä–≥–∏—è</div>
                        <div class="stat-sublabel">100% –∑–∞—Ä—è–¥</div>
                    </div>
                </div>

                <!-- Timeline -->
                <div class="timeline-section">
                    <h2>–¢–∞–π–º–ª–∞–π–Ω –¥–Ω—è</h2>
                    <div class="timeline-container">
                        <div class="timeline" id="timeline">
                            <!-- Coins will be generated here -->
                        </div>
                    </div>
                    <div class="timeline-legend" id="legend">
                        <!-- Legend will be generated here -->
                    </div>
                </div>

                <!-- Actions List -->
                <div class="actions-section">
                    <h2>–î–µ–π—Å—Ç–≤–∏—è –¥–Ω—è</h2>
                    <div class="actions-list" id="actionsList">
                        <!-- Actions will be generated here -->
                    </div>
                </div>
            </section>

            <!-- Analytics Section (Hidden by default) -->
            <section class="analytics hidden" id="analyticsSection">
                <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
                <div class="analytics-grid">
                    <div class="chart-card">
                        <h3>–°–µ–≥–æ–¥–Ω—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                        <canvas id="categoryChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–ù–µ–¥–µ–ª—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                        <canvas id="weekCategoryChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–ú–µ—Å—è—Ü –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
                        <canvas id="monthCategoryChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–î–∏–Ω–∞–º–∏–∫–∞ –ø–æ –¥–Ω—è–º</h3>
                        <canvas id="weekChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <h3>–ü–∏–∫–æ–≤—ã–µ —á–∞—Å—ã</h3>
                        <canvas id="hoursChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Life Section (Hidden by default) -->
            <section class="life hidden" id="lifeSection">
                <h2>‚è≥ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∂–∏–∑–Ω–∏</h2>
                
                <!-- Life Settings -->
                <div class="life-settings">
                    <div class="settings-card">
                        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∂–∏–∑–Ω–∏</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="birthDate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                                <input type="date" id="birthDate" class="life-input">
                            </div>
                            <div class="form-group">
                                <label for="lifeExpectancy">–û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∂–∏–∑–Ω–∏</label>
                                <input type="number" id="lifeExpectancy" value="80" min="1" max="120" class="life-input">
                                <span class="input-suffix">–ª–µ—Ç</span>
                            </div>
                        </div>
                        <button class="btn btn-primary" id="updateLifeData">–û–±–Ω–æ–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é</button>
                    </div>
                </div>

                <!-- Life Stats -->
                <div class="life-stats">
                    <div class="stat-card life-stat">
                        <div class="stat-value" id="daysLived">0</div>
                        <div class="stat-label">–î–Ω–µ–π –ø—Ä–æ–∂–∏—Ç–æ</div>
                        <div class="stat-sublabel" id="livedPercentage">0% –∂–∏–∑–Ω–∏</div>
                    </div>
                    <div class="stat-card life-stat">
                        <div class="stat-value" id="daysRemaining">0</div>
                        <div class="stat-label">–î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å</div>
                        <div class="stat-sublabel" id="remainingPercentage">0% –∂–∏–∑–Ω–∏</div>
                    </div>
                    <div class="stat-card life-stat">
                        <div class="stat-value" id="coinsRemaining">0</div>
                        <div class="stat-label">–ö–æ–∏–Ω–æ–≤ –æ—Å—Ç–∞–ª–æ—Å—å</div>
                        <div class="stat-sublabel">–±–æ–¥—Ä—Å—Ç–≤—É—é—â–∏—Ö —á–∞—Å–æ–≤</div>
                    </div>
                    <div class="stat-card life-stat">
                        <div class="stat-value" id="productiveDays">0</div>
                        <div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤</div>
                        <div class="stat-sublabel" id="productivePercentage">–¥–Ω–µ–π/–Ω–µ–¥–µ–ª—å/–º–µ—Å—è—Ü–µ–≤</div>
                    </div>
                </div>

                <!-- Life Visualization Controls -->
                <div class="life-controls">
                    <div class="control-group">
                        <label>–ú–∞—Å—à—Ç–∞–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
                        <div class="scale-buttons">
                            <button class="btn btn-ghost scale-btn active" data-scale="year">–ì–æ–¥—ã</button>
                            <button class="btn btn-ghost scale-btn" data-scale="month">–ú–µ—Å—è—Ü—ã</button>
                            <button class="btn btn-ghost scale-btn" data-scale="week">–ù–µ–¥–µ–ª–∏</button>
                        </div>
                    </div>
                    <div class="control-group">
                        <label>–õ–µ–≥–µ–Ω–¥–∞:</label>
                        <div class="life-legend">
                            <div class="legend-item">
                                <div class="legend-color productive-day"></div>
                                <span>–ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color current-day"></div>
                                <span>–¢–µ–∫—É—â–∏–π –ø–µ—Ä–∏–æ–¥</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color future-day"></div>
                                <span>–ë—É–¥—É—â–∏–µ –ø–µ—Ä–∏–æ–¥—ã</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Life Visualization -->
                <div class="life-visualization">
                    <div class="visualization-header">
                        <h3 id="visualizationTitle">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –≥–æ–¥–∞–º</h3>
                        <div class="visualization-info">
                            <span id="visualizationPeriod">1945 - 2025</span>
                        </div>
                    </div>
                    <div class="life-grid" id="lifeGrid">
                        <!-- Life squares will be generated here -->
                    </div>
                </div>

                <!-- Countdown Timer -->
                <div class="countdown-section">
                    <h3>‚è∞ –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á—ë—Ç</h3>
                    <div class="countdown-grid">
                        <div class="countdown-item">
                            <div class="countdown-value" id="yearsLeft">0</div>
                            <div class="countdown-label">–ª–µ—Ç</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="monthsLeft">0</div>
                            <div class="countdown-label">–º–µ—Å—è—Ü–µ–≤</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="daysLeft">0</div>
                            <div class="countdown-label">–¥–Ω–µ–π</div>
                        </div>
                        <div class="countdown-item">
                            <div class="countdown-value" id="hoursLeft">0</div>
                            <div class="countdown-label">—á–∞—Å–æ–≤</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Navigation -->
    <nav class="bottom-nav">
        <button class="nav-btn active" data-section="dashboard">
            <span class="nav-icon">üè†</span>
            <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
        </button>
        <button class="nav-btn" data-section="analytics">
            <span class="nav-icon">üìä</span>
            <span class="nav-label">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
        </button>
        <button class="nav-btn" data-section="life">
            <span class="nav-icon">‚è≥</span>
            <span class="nav-label">–ñ–∏–∑–Ω—å</span>
        </button>
    </nav>

    <!-- Floating Action Button -->
    <button class="fab" id="addActionBtn">+</button>

    <!-- Action Modal -->
    <div class="modal" id="actionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">–î–æ–±–∞–≤–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ</h3>
                <button class="modal-close" id="closeModal">√ó</button>
            </div>
            <form class="modal-form" id="actionForm">
                <div class="form-group">
                    <label for="actionTitle">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</label>
                    <input type="text" id="actionTitle" placeholder="–†–∞–±–æ—Ç–∞, –°–ø–æ—Ä—Ç, –û–±–µ–¥..." required>
                    <div class="suggestions" id="titleSuggestions"></div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="actionCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                        <select id="actionCategory">
                            <option value="work">–†–∞–±–æ—Ç–∞</option>
                            <option value="rest">–û—Ç–¥—ã—Ö</option>
                            <option value="sport">–°–ø–æ—Ä—Ç</option>
                            <option value="communication">–û–±—â–µ–Ω–∏–µ</option>
                            <option value="learn">–û–±—É—á–µ–Ω–∏–µ</option>
                            <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                            <option value="tasks">–î–µ–ª–∞</option>
                            <option value="other">–î—Ä—É–≥–æ–µ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="actionPriority">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                        <select id="actionPriority">
                            <option value="low">–ù–∏–∑–∫–∏–π</option>
                            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="startTime">–ù–∞—á–∞–ª–æ</label>
                        <input type="time" id="startTime" required>
                    </div>
                    <div class="form-group">
                        <label for="endTime">–û–∫–æ–Ω—á–∞–Ω–∏–µ</label>
                        <input type="time" id="endTime" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="actionNote">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                    <textarea id="actionNote" placeholder="–ó–∞–º–µ—Ç–∫–∞..." rows="3"></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-danger" id="deleteAction" style="display: none;">–£–¥–∞–ª–∏—Ç—å</button>
                    <div class="modal-actions-right">
                        <button type="button" class="btn btn-ghost" id="cancelAction">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                <button class="modal-close" id="closeSettings">√ó</button>
            </div>
            <form class="modal-form" id="settingsForm">
                <div class="form-group">
                    <h4>–†–µ–∂–∏–º —Å–Ω–∞</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="sleepStart">–í—Ä–µ–º—è —Å–Ω–∞</label>
                            <input type="time" id="sleepStart" value="22:30">
                        </div>
                        <div class="form-group">
                            <label for="sleepEnd">–í—Ä–µ–º—è –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è</label>
                            <input type="time" id="sleepEnd" value="08:30">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <h4>–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h4>
                    <div class="backup-controls">
                        <div class="backup-section">
                            <h5>–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h5>
                            <div class="backup-buttons">
                                <button type="button" class="btn btn-ghost" id="exportJSON">
                                    üìÑ –≠–∫—Å–ø–æ—Ä—Ç JSON
                                </button>
                                <button type="button" class="btn btn-ghost" id="exportCSV">
                                    üìä –≠–∫—Å–ø–æ—Ä—Ç CSV
                                </button>
                            </div>
                        </div>
                        
                        <div class="backup-section">
                            <h5>–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</h5>
                            <div class="backup-buttons">
                                <input type="file" id="importJSONFile" accept=".json" style="display: none;">
                                <button type="button" class="btn btn-ghost" id="importJSON">
                                    üì• –ò–º–ø–æ—Ä—Ç JSON
                                </button>
                                
                                <input type="file" id="importCSVFile" accept=".csv" style="display: none;">
                                <button type="button" class="btn btn-ghost" id="importCSV">
                                    üìà –ò–º–ø–æ—Ä—Ç CSV
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-ghost" id="cancelSettings">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="analytics.js"></script>
    <script src="life.js"></script>
    <script src="app.js"></script>
</body>
</html>
